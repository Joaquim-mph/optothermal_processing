procedures:
  ITt:
    Parameters:
      Irange: float
      NPLC: int
      N_avg: int
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Laser ON+OFF period: float
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
      VDS: float
      VG: float
      Pulse time: float
    Metadata:
      Start time: datetime
    Data:
      t (s): float
      I (A): float
      VL (V): float
      Plate T (degC): float
      Ambient T (degC): float
      Clock (ms): float

    ManifestColumns:
      vds_v: [VDS, Vds]
      vg_fixed_v: [VG, Vg]
      wavelength_nm: [Laser wavelength]
      laser_voltage_V: [Laser voltage]
      laser_period_s: [Laser ON+OFF period]

    Config:
      light_detection: standard
  IVg:
    Parameters:
      Irange: float
      N_avg: int
      Chained execution: bool
      NPLC: int
      Burn-in time: float
      Chip group name: str
      Chip number: int
      Information: str
      Laser toggle: bool
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Show more: bool
      Step time: float
      VDS: float
      VG end: float
      VG start: float
      VG step: float
    Metadata:
      Start time: datetime
    Data:
      Vg (V): float
      I (A): float

    # Manifest column extraction (optional)
    # Maps manifest column names to parameter names (with aliases)
    ManifestColumns:
      vds_v: [VDS, Vds, VSD, Drain voltage]
      vg_start_v: [VG start, Vg start]
      vg_end_v: [VG end, Vg end]
      vg_step_v: [VG step, Vg step]
      wavelength_nm: [Laser wavelength]
      laser_voltage_V: [Laser voltage]

    # Procedure-specific configuration (optional)
    Config:
      light_detection: standard  # Options: standard, laser_calibration, none

  VVg:
    Parameters:
      NPLC: int
      Vrange: float
      Burn-in time: float
      Chip group name: str
      Chip number: int
      Drain-Source current: float
      Information: str
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Step time: float
      VG end: float
      VG start: float
      VG step: float
    Metadata:
      Start time: datetime
    Data:
      Vg (V): float
      VDS (V): float
      t (s): float
      Plate T (degC): float
      Ambient T (degC): float
      Clock (ms): float

    ManifestColumns:
      ids_v: [Drain-Source current]
      vg_start_v: [VG start, Vg start]
      vg_end_v: [VG end, Vg end]
      vg_step_v: [VG step, Vg step]
      wavelength_nm: [Laser wavelength]
      laser_voltage_V: [Laser voltage]

    Config:
      light_detection: standard

  IVgT:
    Parameters:
      Irange: float
      NPLC: int
      N_avg: int
      Burn-in time: float
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Laser toggle: bool
      Laser voltage: float
      Laser wavelength: float_no_unit
      Procedure version: str
      Sample: str
      Show more: bool
      Step time: float
      VDS: float
      VG end: float
      VG start: float
      VG step: float
    Metadata:
      Start time: datetime
    Data:
      Vg (V): float
      I (A): float
      Plate T (degC): float
      Ambient T (degC): float
      Clock (ms): float

  It:
    Parameters:
      Irange: float
      N_avg: int
      NPLC: int
      Chip group name: str
      Chip number: int
      Information: str
      Laser ON+OFF period: float
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
      VDS: float
      VG: float
      T step start time: float
      Initial (current) T: float
      Target T: float
      Chained execution: bool
    Metadata:
      Start time: datetime
    Data:
      t (s): float
      I (A): float
      VL (V): float

    ManifestColumns:
      vds_v: [VDS, Vds]
      vg_fixed_v: [VG, Vg]
      wavelength_nm: [Laser wavelength]
      laser_voltage_V: [Laser voltage]
      laser_period_s: [Laser ON+OFF period]

    Config:
      light_detection: standard
  LaserCalibration:
    Parameters:
      N_avg: int
      Optical fiber: str
      Chained execution: bool
      Laser wavelength: float
      Procedure version: str
      Step time: float
      Laser voltage end: float
      Laser voltage start: float
      Laser voltage step: float
    Metadata:
      Start time: datetime
      Sensor model: str
    Data:
      VL (V): float
      Power (W): float

    # Manifest column extraction
    ManifestColumns:
      wavelength_nm: [Laser wavelength]
      laser_voltage_start_v: [Laser voltage start]
      laser_voltage_end_v: [Laser voltage end]
      laser_voltage_step_v: [Laser voltage step]
      optical_fiber: [Optical fiber]
      sensor_model: [Sensor model]  # From Metadata section

    # LaserCalibration has special light detection logic
    # Calibrations are on laser system, not chips
    Config:
      light_detection: laser_calibration
      requires_chip: false  # No chip information needed for calibration
  Tt:
    Parameters:
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Initial (current) T: float
      Target T: float
      T start: float
      T end: float
      T step: float
      Step time: float
      Laser ON+OFF period: float
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
    Metadata:
      Start time: datetime
    Data:
      Time (s): float
      Plate Temperature (degC): float
      Ambient Temperature (degC): float
      Clock: float

    # Tt is temperature-only, no light measurement
    Config:
      light_detection: none
  IV:
    Parameters:
      Irange: float
      NPLC: int
      N_avg: int
      Burn-in time: float
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Laser toggle: bool
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Show more: bool
      Step time: float
      VG: float
      VSD end: float
      VSD start: float
      VSD step: float
    Metadata:
      Start time: datetime
    Data:
      Vsd (V): float
      I (A): float
      # Optional columns (for backward compatibility with legacy data)
      # New measurements may include these; old measurements will have null values
      t (s):
        type: float
        required: false  # Added in v2.0 - optional for backward compat with old IV data

    ManifestColumns:
      vg_fixed_v: [VG, Vg]
      vsd_start_v: [VSD start, Vsd start]
      vsd_end_v: [VSD end, Vsd end]
      vsd_step_v: [VSD step, Vsd step]
      wavelength_nm: [Laser wavelength]
      laser_voltage_V: [Laser voltage]

    Config:
      light_detection: standard

  It2:
    Parameters:
      Irange: float
      NPLC: int
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Initial (current) T: float
      Phase 1 duration (laser OFF): float
      Phase 2 duration (laser ON): float
      Phase 3 duration (laser OFF): float
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
      Target T: float
      T step start time: float
      Use temperature sensor: bool
      VDS: float
      VG: float
      Laser voltage: float
      Laser wavelength: float
      Laser toggle: bool
    Metadata:
      Start time: datetime
    Data:
      t (s): float
      I (A): float
      VL (V): float
      Plate T (degC): float
      Ambient T (degC): float
      Clock (ms): float

  ItVg:
    Parameters:
      Irange: float
      NPLC: int
      Burn-in time: float
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Laser toggle: bool
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
      Step time: float
      VDS: float
      VG end: float
      VG start: float
      VG step: float
    Metadata:
      Start time: datetime
    Data:
      t (s): float
      I (A): float
      Vg (V): float

  ItWl:
    Parameters:
      Irange: float
      NPLC: int
      Burn-in time: float
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
      Step time: float
      VDS: float
      VG: float
      VG toggle: bool
      Wavelength: float
    Metadata:
      Start time: datetime
    Data:
      t (s): float
      I (A): float
      wl (nm): float

  Vt:
    Parameters:
      Vrange: float
      NPLC: int
      Chained execution: bool
      Chip group name: str
      Chip number: int
      Information: str
      Laser ON+OFF period: float
      Laser toggle: bool
      Laser voltage: float
      Laser wavelength: float
      Procedure version: str
      Sample: str
      Sampling time (excluding Keithley): float
      Show more: bool
      Drain-Source current: float
      VG: float
      Initial (current) T: float
      Target T: float
      T step start time: float
      Use temperature sensor: bool
    Metadata:
      Start time: datetime
    Data:
      t (s): float
      VDS (V): float
      VL (V): float
      Plate T (degC): float
      Ambient T (degC): float
      Clock (ms): float

  Pt:
    Parameters:
      Irange: float
      N_avg: int
      Chained execution: bool
      Information: str
      Laser ON+OFF period: float
      Laser voltage: float
      Laser wavelength: float
      Optical fiber: str
      Procedure version: str
      Sampling time (excluding Keithley): float
      Show more: bool
    Metadata:
      Start time: datetime
      Sensor model: str
    Data:
      t (s): float
      P (W): float
      VL (V): float

  Pwl:
    Parameters:
      N_avg: int
      Chained execution: bool
      Information: str
      Procedure version: str
      Sampling time (excluding Keithley): float
      Show more: bool
      Wavelength Step: float
      Start Wavelength: float
      End Wavelength: float
    Metadata:
      Start time: datetime
      Sensor model: str
    Data:
      Wavelength (nm): float
      Power (W): float
      Time (s): float
